{"version":3,"sources":["../node_modules/lodash/_objectToString.js","../node_modules/lodash/debounce.js","../node_modules/lodash/now.js","../node_modules/lodash/toNumber.js","intensity-legend.png","components/industrySpaceMap/Utils.js","components/industrySpaceMap/rapidTooltip.js","components/industrySpaceMap/chart.js","components/industrySpaceMap/data.js","components/industrySpaceMap/styling.js","components/industrySpaceMap/index.js","../node_modules/react-use/esm/usePrevious.js","pages/IndustrySpaceMap.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","sector-legend.png","../node_modules/lodash/_root.js","../node_modules/hull.js/src/hull.js","../node_modules/hull.js/src/intersect.js","../node_modules/hull.js/src/grid.js","../node_modules/hull.js/src/format.js","../node_modules/hull.js/src/convex.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_getRawTag.js"],"names":["nativeObjectToString","Object","prototype","toString","module","exports","value","call","isObject","require","now","toNumber","nativeMax","Math","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","this","clearTimeout","cancel","flush","root","Date","isSymbol","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","replace","isBinary","test","slice","drawPoint","r","currentPoint","totalPoints","centerX","centerY","angle","PI","x","cos","y","sin","getBounds","xValues","yValues","innerWidth","innerHeight","outerWidth","outerHeight","maxZoom","xBounds","extent","yBounds","bounds","dx","dy","scale","translate","wrap","text","width","height","each","t","select","words","split","reverse","word","pop","line","lineNumber","attr","tspan","append","push","join","node","getComputedTextLength","getBBox","RapidTooltipRoot","styled","div","zoomScales","continent","fill","d3","domain","range","stroke","label","countries","nodes","rootEl","data","rootWidth","rootHeight","backButton","tooltipEl","legendEl","shape","shapeParam","URLSearchParams","window","location","search","get","aspect","actual","buffer","longerAspectSide","w","h","smallerActualValue","ratio","margin","left","right","top","bottom","getAspectRation","radiusAdjuster","radius","sectorLegend","querySelector","intensityLegend","state","zoom","active","hoveredShape","hoveredNode","svg","xScale","yScale","g","scaleExtent","on","transform","k","updateChart","reset","element","classed","clearActiveLabels","transition","duration","setHoveredShape","datum","setHoveredNode","selectAll","remove","removeEventListener","addEventListener","outerRing","innerRing","continents","clusters","enter","d","map","xCoord","yCoord","rgba","color","style","zoomToShape","nodeOpacity","wasActive","softReset","adjustedCoords","allXValues","allYValues","edges","forEach","_n","i","radiusCoords","length","innerHTML","input","columnCount","rows","row","c","alignment","boldColumns","includes","additionalContent","additionalHTML","title","getStandardTooltip","id","display","pageY","pageX","continentLabels","center","name","countryLabels","nodeLabels","xValue","yValue","edgeData","trg","find","findIndex","e","innerCircleLength","ease","filter","maxChar","trim","delay","lighten","JSON","parse","naicsData","proximityNodes","clusterMap","customClusterShapes","colorMap","n","industry6Digit","code","Error","naics_id","topLevelParentId","current","parent_id","console","error","parent","initial_x","initial_y","clusterColorMap","C1","C2","naics","indexC1","points","indexC2","industry","custom","convex","hull","customViewbox","dimension","Root","BackButton","button","ChartContainer","LegendContainer","LegendImage","img","IndustrySpaceMap","useState","chart","setChart","chartRef","useRef","backButtonRef","tooltipRef","legendRef","dimensions","setWindowDimensions","prevDimensions","ref","useEffect","usePrevious","updateWindowDimensions","debounce","chartNode","backButtonNode","tooltipNode","legendNode","createChart","baseData","className","src","_arrayLikeToArray","arr","len","arr2","Array","_unsupportedIterableToArray","o","minLen","constructor","from","_taggedTemplateLiteral","strings","raw","freeze","defineProperties","_slicedToArray","isArray","Symbol","iterator","_arr","_d","_e","_s","_i","next","done","err","unsupportedIterableToArray","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","target","source","getOwnPropertyDescriptors","freeGlobal","freeSelf","self","Function","intersect","grid","formatUtil","convexHull","_sqLength","a","b","pow","_cos","aShifted","bShifted","sqALen","sqBLen","sqrt","_intersect","segment","pointset","seg","_bBoxAround","edge","_midPoint","innerPoints","a1Cos","a2Cos","point","angle1Cos","MAX_CONCAVE_ANGLE_COS","angle2Cos","MAX_SEARCH_BBOX_SIZE_PERCENT","concavity","format","maxEdgeLen","unique","lastPoint","_filterDuplicates","sort","_sortByX","toXy","concat","occupiedArea","minX","Infinity","minY","maxX","maxY","_occupiedArea","maxSearchArea","pt","indexOf","cellSize","ceil","concave","_concave","maxSqEdgeLen","edgeSkipList","midPointInserted","keyInSkipList","has","scaleFactor","bBoxAround","bBoxWidth","bBoxHeight","midPoint","extendBbox","rangePoints","add","splice","removePoint","Set","fromXy","ccw","x1","y1","x2","y2","x3","y3","cw","seg1","seg2","x4","y4","Grid","_cells","_cellSize","_reverseCellSize","coordToCellNum","array","cellPoints","bbox","tlCellX","tlCellY","brCellX","brCellY","pointIdxInCell","cellX","cellY","cell","trunc","val","_getXY","_getObj","_cross","upper","lower","l","_upperTangent","reversed","u","_lowerTangent","getRawTag","objectToString","symToStringTag","toStringTag","type","baseGetTag","isObjectLike","global","objectProto","hasOwnProperty","isOwn","tag","unmasked"],"mappings":"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","file":"static/js/6.68409244.chunk.js","sourcesContent":["/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","module.exports = __webpack_public_path__ + \"static/media/intensity-legend.8c1fb36a.png\";","import {extent} from 'd3-array';\nimport {select} from 'd3-selection';\n\nexport const intensityLegendClassName = 'intensity-legend-class-name';\nexport const sectorLegendClassName = 'sector-legend-class-name';\n\nexport const getAspectRation = (aspect, actual, buffer) => {\n  const longerAspectSide = aspect.w > aspect.h ? 'width' : 'height';\n  const smallerActualValue = (actual.w > actual.h ? actual.h : actual.w) - (buffer * 2);\n  const ratio = longerAspectSide === 'width' ? aspect.h / aspect.w : aspect.w / aspect.h;\n  const width = longerAspectSide === 'width' ? smallerActualValue : smallerActualValue * ratio;\n  const height = longerAspectSide === 'height' ? smallerActualValue : smallerActualValue * ratio;\n  const margin = {\n    left: ((actual.w - width) / 2) + (buffer / 2), right: ((actual.w - width) / 2) + (buffer / 2),\n    top: ((actual.h - height) / 2) + (buffer / 2), bottom: ((actual.h - height) / 2) + (buffer / 2),\n  }\n  return {\n    width, height, margin,\n    outerWidth: actual.w,\n    outerHeight: actual.h,\n  }\n};\n\nexport function drawPoint(r, currentPoint, totalPoints, centerX, centerY) {  \n\n  var theta = ((Math.PI*2) / totalPoints);\n  var angle = (theta * currentPoint);\n\n  const x = (r * Math.cos(angle) + centerX);\n  const y = (r * Math.sin(angle) + centerY);\n\n  return {x, y};\n}\n\nexport const getBounds = (xValues, yValues, innerWidth, innerHeight, outerWidth, outerHeight, maxZoom) => {\n  const xBounds = extent(xValues);\n  const yBounds = extent(yValues);\n  const bounds = [\n    [xBounds[0], yBounds[0]],\n    [xBounds[1], yBounds[1]],\n  ];\n  const dx = bounds[1][0] - bounds[0][0];\n  const dy = bounds[1][1] - bounds[0][1];\n  const x = (bounds[0][0] + bounds[1][0]) / 2;\n  const y = (bounds[0][1] + bounds[1][1]) / 2;\n  const scale = Math.max(1, Math.min(maxZoom, 0.9 / Math.max(dx / innerWidth, dy / innerHeight)));\n  const translate = [outerWidth / 2 - scale * x, outerHeight / 2 - scale * y];\n\n  return {translate, scale};\n}\n\nexport const ellipsisText = (text, maxChar) => {\n  if (text.trim().length < maxChar + 3) {\n    return text;\n  } else {\n    return text.slice(0, maxChar) + '...';\n  }\n}\n\nexport function wrap(text, width, height) {\n  text.each(function() {\n    // @ts-ignore\n    const t = select(this);\n    // @ts-ignore\n    const words = t.text().split(/\\s+/).reverse();\n    let word = words.pop();\n    let line = [];\n    let lineNumber = 0; //<-- 0!\n    const lineHeight = 1.2; // ems\n    const x = t.attr('x'); //<-- include the x!\n    const y = t.attr('y');\n    const dy = t.attr('dy') ? t.attr('dy') : 0; //<-- null check\n    let tspan = t.text(null).append('tspan').attr('x', x).attr('y', y).attr('dy', dy + 'em');\n    while (word !== undefined) {\n      line.push(word);\n      tspan.text(line.join(' '));\n      const node = tspan.node();\n      if (node && node.getComputedTextLength() > (width * 0.8)) {\n        line.pop();\n        tspan.text(line.join(' '));\n        line = [word];\n        // @ts-ignore\n        tspan = t.append('tspan').attr('x', x).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);\n      }\n      word = words.pop();\n    }\n    if (t.node().getBBox().width > width || t.node().getBBox().height > height * 0.8) {\n      t.attr('opacity', '0');\n    }\n  });\n}\n","import styled from 'styled-components/macro';\n\n// interface Input {\n//   title: string;\n//   color: string;\n//   rows: string[][];\n//   boldColumns?: number[];\n//   additionalHTML?: string;\n// }\n\nexport const RapidTooltipRoot = styled.div`\n  position: fixed;\n  z-index: 3000;\n  max-width: 16rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.7rem;\n  line-height: 1.4;\n  text-transform: none;\n  transition: opacity 0.15s ease;\n  color: #333;\n  background-color: #fff;\n  border: 1px solid #dfdfdf;\n  border-radius: 4px;\n  box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.15);\n  pointer-events: none;\n  transform: translate(-50%, calc(-100% - 1.5rem));\n  display: none;\n\n  .rapid-tooltip-title {\n    padding: 0.5rem;\n  }\n\n  .rapid-tooltip-subsection-grid {\n    display: grid;\n    grid-gap: 0.5rem;\n    padding: 0.5rem;\n  }\n\n  .rapid-tooltip-cell {\n    display: flex;\n  }\n\n  .rapid-tooltip-arrow-container {\n    width: 100%;\n    height: 0.5rem;\n    display: flex;\n    justify-content: center;\n    position: absolute;\n    transform: translate(0, 100%);\n  }\n\n  .rapid-tooltip-arrow {\n    width: 0.5rem;\n    height: 0.5rem;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    left: -0.25rem;\n\n    &:before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      border-left: 9px solid transparent;\n      border-right: 9px solid transparent;\n      border-top: 9px solid #dfdfdf;\n    }\n\n    &:after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 1px;\n      border-left: 8px solid transparent;\n      border-right: 8px solid transparent;\n      border-top: 8px solid #fff;\n    }\n  }\n`;\n\nexport const getStandardTooltip = (input) => {\n  const columnCount = input.rows.length && input.rows[0].length ? input.rows[0].length : 1;\n\n  let rows = '';\n  input.rows.forEach(r => {\n    let row = '';\n    r.forEach((c, i) => {\n      const alignment = i === 0\n        ? 'justify-content: flex-start; text-align: left;'\n        : 'justify-content: flex-end; text-align: right;';\n      const style = input.boldColumns && input.boldColumns.includes(i)\n        ? `style=\"font-weight: 600;${alignment}\"` : '';\n      row = row + `<div class=\"rapid-tooltip-cell\" ${style}>${c}</div>`;\n    });\n    rows = rows + row;\n  });\n\n  const additionalContent = input.additionalHTML ? `<div>${input.additionalHTML}</div>` : '';\n\n  return `\n    <div>\n      <div class=\"rapid-tooltip-title\" style=\"background-color: ${input.color};\">\n        ${input.title}\n      </div>\n      <div\n        class=\"rapid-tooltip-subsection-grid\"\n        style=\"display: grid; grid-template-columns: repeat(${columnCount}, auto);\"\n      >\n        ${rows}\n      </div>\n      ${additionalContent}\n    </div>\n    <div class=\"rapid-tooltip-arrow-container\">\n      <div class=\"rapid-tooltip-arrow\"></div>\n    </div>\n  `;\n};\n","import * as d3 from 'd3';\nimport {\n  getAspectRation,\n  drawPoint,\n  getBounds,\n  wrap,\n  intensityLegendClassName,\n  sectorLegendClassName,\n  ellipsisText,\n} from './Utils';\nimport {rgba, lighten} from 'polished';\nimport {getStandardTooltip} from './rapidTooltip';\n\nconst defaultShape = 'custom'; // convex || custom || points\nconst minExpectedScreenSize = 1020;\n\nconst minZoom = 0.75;\nconst maxZoom = 50;\nexport const innerRingRadius = 24;\nexport const outerRingRadius = 48;\n\nconst zoomScales = {\n  continent: {\n    fill: d3.scaleLinear()\n      .domain([1, 3])\n      .range([1, 0]),\n    stroke: d3.scaleLinear()\n      .domain([1, maxZoom])\n      .range([1, 1]),\n    label: d3.scaleLinear()\n      .domain([1, 1.85, 2.15])\n      .range([1, 1, 0]),\n  },\n  countries: {\n    fill: d3.scaleLinear()\n      .domain([1.5, 2, 3, 4, 7, 8])\n      .range([0, 0.5, 0.75, 0.3, 0.1, 0]),\n    stroke: d3.scaleLinear()\n      .domain([1.2, 2, 5, 12, maxZoom])\n      .range([0, 0.5, 1, 0.75, 0.2]),\n    label: d3.scaleLinear()\n      .domain([1.45, 1.75, 3.65, 4])\n      .range([0, 1, 1, 0]),\n  },\n  nodes: {\n    fill: d3.scaleLinear()\n      .domain([0, 2, 2.55, 3.5])\n      .range([0, 0.2, 0.75, 1]),\n    label: d3.scaleLinear()\n      .domain([8, 9])\n      .range([0, 1]),\n  },\n}\n\nexport default (rootEl, data, rootWidth, rootHeight, backButton, tooltipEl, legendEl) => {\n  let shape = defaultShape;\n\n  const urlParams = new URLSearchParams(window.location.search);\n  const shapeParam = urlParams.get('shape');\n  if (shapeParam) {\n    shape = shapeParam;\n  }\n\n  const {\n    width, height, outerWidth, outerHeight, margin,\n  } = getAspectRation({w: 4, h: 3}, {w: rootWidth, h: rootHeight}, 20);\n\n  const smallerSize = width < height ? width : height;\n  const radiusAdjuster = smallerSize / minExpectedScreenSize;\n  let radius = 2.5;\n  radius = radius < 2.5 ? 2.5 * radiusAdjuster : radius * radiusAdjuster;\n\n  const sectorLegend = legendEl.querySelector('.' + sectorLegendClassName);\n  const intensityLegend = legendEl.querySelector('.' + intensityLegendClassName);\n\n  const state = {\n    zoom: 1,\n    active: null,\n    hoveredShape: null,\n    hoveredNode: null,\n  };\n\n  const svg = d3.select(rootEl).append(\"svg\")\n    .attr(\"width\",  outerWidth)\n    .attr(\"height\", outerHeight);\n\n  const xScale = d3.scaleLinear()                // interpolator for X axis -- inner plot region\n    .domain(d3.extent(data.nodes, ({x}) => x))\n    .range([0, width]);\n\n  const yScale = d3.scaleLinear()                // interpolator for Y axis -- inner plot region\n    .domain(d3.extent(data.nodes, ({y}) => y))\n    .range([height, 0]);\n\n  const g = svg.append(\"g\");\n\n  const zoom = d3.zoom()\n    .scaleExtent([minZoom, maxZoom])\n    .on(\"zoom\", zoomed);\n\n  svg.call(zoom);\n\n  function zoomed() {\n    state.zoom = d3.event.transform.k;\n    g.attr(\"transform\", d3.event.transform);\n    updateChart();\n  }\n\n  function reset() {\n    if (state.active !== null) {\n      state.active.element.classed(\"active\", false);\n    }\n    state.active = null;\n    clearActiveLabels();\n    svg.transition()\n      .duration(300)\n      .call(zoom.transform, d3.zoomIdentity);\n    svg.call(zoom);\n    updateChart();\n  }\n\n  function softReset(d) {\n    if (state.active !== null) {\n      state.active.element.classed(\"active\", false);\n    }\n    state.active = null;\n    clearActiveLabels();\n\n    const {translate, scale} = getBounds(\n      [xScale(d.x) + margin.left],\n      [yScale(d.y) + margin.top],\n      width, height, outerWidth, outerHeight, 7\n    );\n\n    svg.call( zoom.transform, d3.zoomIdentity.translate(translate[0],translate[1]).scale(scale));\n    svg.call(zoom);\n    d.wasActive = true;\n    updateChart();\n  }\n\n  backButton.removeEventListener('click', reset);\n  backButton.addEventListener('click', reset);\n\n  function setHoveredShape(datum) {\n    state.hoveredShape = datum;\n    updateChart();\n  }\n\n  function setHoveredNode(datum) {\n    state.hoveredNode = datum;\n    if (!state.active) {\n      updateChart();\n    }\n  }\n\n  function clearActiveLabels() {\n    g.selectAll('.industry-ring-label').remove();\n  }\n\n  const outerRing = g.append('circle')\n    .attr(\"class\", \"outer-ring\")\n\n  const innerRing = g.append('circle')\n    .attr(\"class\", \"inner-ring\")\n\n  const continents = g.selectAll(\".industry-continents\")\n    .data(data.clusters.continents)\n    .enter().append(\"polygon\")\n      .attr(\"class\", \"industry-continents\")\n      .attr(\"points\", d =>\n        d[shape].map(([xCoord, yCoord]) =>\n          [xScale(xCoord) + margin.left, yScale(yCoord) + margin.top].join(\",\")).join(\" \")\n      )\n      .attr(\"fill\", d => rgba(d.color, 1))\n      .attr(\"stroke\", d => rgba('#efefef', 1))\n      .style('opacity', 1)\n      .on(\"click\", d => zoomToShape(d, 3))\n      .on(\"mouseenter\", d => setHoveredShape(d))\n      .on(\"mouseleave\", () => setHoveredShape(null))\n\n  const countries = g.selectAll(\".industry-countries\")\n    .data(data.clusters.countries)\n    .enter().append(\"polygon\")\n      .attr(\"class\", \"industry-countries\")\n      .attr(\"points\", d =>\n        d[shape].map(([xCoord, yCoord]) =>\n          [xScale(xCoord) + margin.left, yScale(yCoord) + margin.top].join(\",\")).join(\" \")\n      )\n      .attr(\"fill\", d => rgba(d.color, 0))\n      .attr(\"stroke\", d => rgba('#efefef', 0))\n      .style('opacity', 1)\n      .on(\"click\", d => zoomToShape(d, 5))\n      .on(\"mouseenter\", d => setHoveredShape(d))\n      .on(\"mouseleave\", () => setHoveredShape(null))\n\n  const hoveredShape = g.append('polygon')\n    .attr('class', 'industry-cluster-hovered')\n    .style('display', 'none')\n\n  const nodeOpacity = zoomScales.nodes.fill(state.zoom)\n  const nodes = g.selectAll(\".industry-node\")\n    .data(data.nodes)\n    .enter().append(\"circle\")\n      .attr(\"class\", \"industry-node\")\n      .attr(\"cx\", d => xScale(d.x) + margin.left )\n      .attr(\"cy\", d => yScale(d.y) + margin.top )\n      .attr(\"r\", radius)\n      .attr('fill', d => '#fff')\n      .style('opacity', nodeOpacity)\n      .on(\"click\", zoomToPoint)\n      .on('mousemove', d => {\n        tooltipEl.innerHTML = getStandardTooltip({\n          title: d.label,\n          color: rgba(d.color, 0.3),\n          rows: [\n            ['NAICS', d.id],\n          ],\n        });\n        tooltipEl.style.display = 'block';\n        tooltipEl.style.top = d3.event.pageY + 'px';\n        tooltipEl.style.left = d3.event.pageX + 'px';\n      })\n      .on(\"mouseenter\", d => setHoveredNode(d))\n      .on(\"mouseleave\", () => {\n        tooltipEl.style.display = 'none';\n        setHoveredNode(null)\n      })\n\n  const hoveredNode = g.append('circle')\n    .attr('class', 'industry-node-hovered')\n    .style('display', 'none')\n\n  const continentLabels = g.selectAll(\".industry-continents-label\")\n    .data(data.clusters.continents)\n    .enter().append(\"text\")\n      .attr(\"class\", \"industry-continents-label\")\n      .attr('x', d => xScale(d.center[0]) + margin.left)\n      .attr('y', d => yScale(d.center[1]) + margin.top)\n      .style('font-size', radius * 8 + 'px')\n      .text(d => d.name);\n\n  const countryLabels = g.append(\"g\")\n    .attr(\"class\", \"industry-countries-label-group\")\n    .style('display', 'none')\n\n  countryLabels.selectAll(\".industry-countries-label\")\n    .data(data.clusters.countries)\n    .enter().append(\"text\")\n      .attr(\"class\", \"industry-countries-label\")\n      .attr('x', d => xScale(d.center[0]) + margin.left)\n      .attr('y', d => yScale(d.center[1]) + margin.top)\n      .style('font-size', radius * 5 + 'px')\n      .text(d => d.name);\n\n  const nodeLabels = g.append(\"g\")\n    .attr(\"class\", \"industry-nodes-label-group\")\n\n  nodeLabels.selectAll(\".industry-nodes-label\")\n    .data(data.nodes)\n    .enter().append(\"text\")\n      .attr(\"class\", \"industry-nodes-label\")\n      .attr('x', d => xScale(d.x) + margin.left)\n      .attr('y', d => yScale(d.y) + margin.top + (radius * 1.45))\n      .style('font-size', radius * 0.5 + 'px')\n      .text(d => d.label)\n      .call(wrap, radius * 8, radius * 7);\n\n  nodeLabels\n    .style('display', 'none')\n\n  function zoomToPoint(d) {\n    if (state.active !== null && state.active.element.node() === this) {\n      return softReset(d);\n    }\n    svg.on(\".zoom\", null);\n    clearActiveLabels();\n    if (state.active !== null) {\n      state.active.element.classed(\"active\", false);\n    }\n    state.active = {};\n    state.active.element = d3.select(this).classed(\"active\", true);\n    state.active.datum = d;\n\n    const centerX = d.adjustedCoords ? d.adjustedCoords.x : xScale(d.x) + margin.left;\n    const centerY = d.adjustedCoords ? d.adjustedCoords.y : yScale(d.y) + margin.top;\n    const allXValues = [centerX];\n    const allYValues = [centerY];\n    d.edges.forEach((_n, i) => {\n      const radiusCoords = drawPoint(outerRingRadius, i, d.edges.length, centerX, centerY);\n      allXValues.push(radiusCoords.x);\n      allYValues.push(radiusCoords.y);\n    });\n\n    const {translate, scale} = getBounds(allXValues, allYValues, width, height, outerWidth, outerHeight, 7);\n\n    svg.transition()\n      .duration(300)\n      .call( zoom.transform, d3.zoomIdentity.translate(translate[0],translate[1]).scale(scale));\n  }\n\n  function zoomToShape(d, maxZoom) {\n\n    const allXValues = [];\n    const allYValues = [];\n    d[shape].forEach(([xValue, yValue]) => {\n      allXValues.push(xScale(xValue) + margin.left)\n      allYValues.push(yScale(yValue) + margin.top)\n    });\n\n    const {translate, scale} = getBounds(allXValues, allYValues, outerWidth, outerHeight, outerWidth, outerHeight, maxZoom);\n\n    svg.transition()\n      .duration(300)\n      .call( zoom.transform, d3.zoomIdentity.translate(translate[0],translate[1]).scale(scale));\n  }\n\n  function updateChart() {\n    if (state.active) {\n      const edgeData = state.active.datum.edges.map(({trg}) => data.nodes.find(({id}) => id === trg));\n      const centerX = state.active.datum.adjustedCoords ?\n        state.active.datum.adjustedCoords.x : xScale(state.active.datum.x) + margin.left;\n      const centerY = state.active.datum.adjustedCoords ?\n        state.active.datum.adjustedCoords.y : yScale(state.active.datum.y) + margin.top;\n\n      outerRing\n        .attr(\"cx\", centerX)\n        .attr(\"cy\", centerY)\n        .style('opacity', 0)\n        .transition()\n        .duration(300)\n        .style('opacity', 1)\n      innerRing\n        .attr(\"cx\", centerX)\n        .attr(\"cy\", centerY)\n        .style('opacity', 0)\n        .transition()\n        .duration(300)\n        .style('opacity', 1)\n\n      nodes\n        .each(d => {\n          const i = edgeData.findIndex(e => e.id === d.id);\n          if (i !== -1) {\n            const innerCircleLength = edgeData.length < 7 ? edgeData.length : 7;\n            const adjustedCoords = drawPoint(\n              i < 7 ? innerRingRadius : outerRingRadius,\n              i < 7 ? i : i - 7,\n              i < 7 ? innerCircleLength : edgeData.length - 7,\n              centerX,\n              centerY,\n            );\n            d.adjustedCoords = adjustedCoords;\n          } else if (d.id !== state.active.datum.id) {\n            d.adjustedCoords = undefined;\n          }\n        })\n        .style('pointer-events', 'auto')\n        .style('opacity', 1)\n        .style('display', d => d.id === state.active.datum.id || edgeData.find(e => e.id === d.id) ? 'block' : 'none')\n        .attr('fill', d => d.color)\n        .transition()\n        .ease(d3.easeCircleInOut)\n        .duration(500)\n        .attr(\"cx\", d => d.adjustedCoords ? d.adjustedCoords.x : xScale(d.x) + margin.left)\n        .attr(\"cy\", d => d.adjustedCoords ? d.adjustedCoords.y : yScale(d.y) + margin.top)\n\n      g.selectAll(\".industry-ring-label\")\n        .data(data.nodes.filter(d => d.id === state.active.datum.id || edgeData.find(e => e.id === d.id)))\n        .each(d => {\n          const i = edgeData.findIndex(e => e.id === d.id);\n          if (i !== -1) {\n            const innerCircleLength = edgeData.length < 7 ? edgeData.length : 7;\n            const adjustedCoords = drawPoint(\n              i < 7 ? innerRingRadius : outerRingRadius,\n              i < 7 ? i : i - 7,\n              i < 7 ? innerCircleLength : edgeData.length - 7,\n              centerX,\n              centerY,\n            );\n            d.adjustedCoords = adjustedCoords;\n          }\n        })\n        .enter().append(\"text\")\n          .attr(\"class\", \"industry-ring-label\")\n          .attr('x', d => d.adjustedCoords ? d.adjustedCoords.x : xScale(d.x) + margin.left)\n          .attr('y', d => d.adjustedCoords ?\n            d.adjustedCoords.y + Math.max(radius * 2, 4)\n            : yScale(d.y) + margin.top + Math.max(radius * 2, 4)\n          )\n          .style('pointer-events', 'none')\n          .style('font-size', Math.max(radius * 0.8, 1.85) + 'px')\n          .text(d => ellipsisText(d.label, 60))\n          .call(wrap, Math.max(radius * 14, 20), radius * 9)\n          .style('opacity', 0)\n          .transition()\n          .delay(500)\n          .duration(300)\n          .style('opacity', 1)\n\n      continents\n        .style('pointer-events', 'none')\n        .style('opacity', 0)\n\n      countries\n        .style('pointer-events', 'none')\n        .style('opacity', 0)\n\n      hoveredShape\n        .style('display', 'none')\n\n      hoveredNode\n        .style('display', 'none')\n\n      continentLabels\n        .style('display', 'none')\n\n      countryLabels\n        .style('display', 'none')\n\n      nodeLabels\n        .style('display', 'none')\n\n      state.active.element\n        .style('display', 'block')\n\n      backButton.style.display = 'block';\n      sectorLegend.style.display = 'block';\n      intensityLegend.style.display = 'none';\n    } else {\n      const nodeOpacity = zoomScales.nodes.fill(state.zoom)\n      nodes\n        .each(d => d.adjustedCoords = undefined)\n        .style('display', 'block')\n        .style('pointer-events', zoomScales.nodes.fill(state.zoom) > 0.275 ? 'auto' : 'none')\n        .style('opacity', nodeOpacity)\n        .attr('fill', d => {\n          if (state.zoom < 3) {\n            return '#fff';\n          } else if (state.zoom < 3.25) {\n            return lighten(zoomScales.countries.fill(state.zoom) - 0.1, d.color);\n          } else if (state.zoom < 3.85) {\n            return lighten(zoomScales.countries.fill(state.zoom) - 0.3, d.color);\n          } else {\n            return d.color;\n          }\n        })\n        .transition()\n        .ease(d3.easeCircleInOut)\n        .duration(d => {\n          if (d.wasActive) {\n            d.wasActive = undefined;\n            return 0;\n          } else {\n            return 500;\n          }\n        })\n        .attr(\"cx\", d => xScale(d.x) + margin.left )\n        .attr(\"cy\", d => yScale(d.y) + margin.top )\n\n      continents\n        .style('pointer-events', zoomScales.continent.fill(state.zoom) > 0.1 ? 'auto' : 'none')\n        .attr(\"fill\", d => rgba(d.color, zoomScales.continent.fill(state.zoom)))\n        .attr(\"stroke\", d => rgba('#efefef', zoomScales.continent.stroke(state.zoom)))\n        .style('opacity', 1)\n\n      countries\n        .style('pointer-events', zoomScales.countries.fill(state.zoom) > 0.01 ? 'auto' : 'none')\n        .attr(\"fill\", d => rgba(d.color, zoomScales.countries.fill(state.zoom)))\n        .attr(\"stroke\", d => rgba('#efefef', zoomScales.countries.stroke(state.zoom)))\n        .style('opacity', 1)\n\n      continentLabels\n        .style('opacity', zoomScales.continent.label(state.zoom))\n        .style(\"display\", 'block')\n\n      countryLabels\n        .style('opacity', zoomScales.countries.label(state.zoom))\n        .style(\"display\", 'block')\n\n      if (state.zoom > 8) {\n        nodeLabels\n          .style('opacity', zoomScales.nodes.label(state.zoom))\n          .style(\"display\", 'block')\n      } else {\n        nodeLabels\n          .style(\"display\", 'none')\n      }\n\n      if (state.zoom > 2) {\n       backButton.style.display = 'block';\n      } else {\n       backButton.style.display = 'none';\n      }\n\n      if (state.zoom > 3.5) {\n        sectorLegend.style.display = 'block';\n        intensityLegend.style.display = 'none';\n      } else {\n        sectorLegend.style.display = 'none';\n        intensityLegend.style.display = 'block';\n      }\n\n      outerRing\n        .style('opacity', 0)\n      innerRing\n        .style('opacity', 0)\n\n      if (state.hoveredShape) {\n        hoveredShape\n          .attr(\"points\", state.hoveredShape[shape].map(([xCoord, yCoord]) =>\n            [xScale(xCoord) + margin.left, yScale(yCoord) + margin.top].join(\",\")).join(\" \") )\n          .attr(\"fill\", 'none')\n          .attr(\"stroke\", '#efefef')\n          .attr(\"stroke-width\", 3)\n          .style('display', 'block')\n      } else {\n        hoveredShape\n          .style('display', 'none')\n      }\n      if (state.hoveredNode) {\n        hoveredNode\n          .attr(\"cx\", xScale(state.hoveredNode.x) + margin.left )\n          .attr(\"cy\", yScale(state.hoveredNode.y) + margin.top )\n          .attr(\"fill\", state.hoveredNode.color)\n          .attr(\"r\", radius)\n          .attr(\"stroke\", state.zoom > 4 ? '#333' : '#efefef')\n          .attr(\"stroke-width\", radius < 2 ? 0.6 : 1)\n          .style('display', 'block')\n      } else {\n        hoveredNode\n          .style('display', 'none')\n      }\n    }\n  }\n\n  return {updateChart}\n\n}\n","import raw from 'raw.macro';\nimport hull from 'hull.js';\n\nconst {nodes} = JSON.parse(raw('../../data/umap-clusters-custom-2.json'));\nconst naicsData = JSON.parse(raw('../../data/naics_2017.json'));\nconst proximityNodes = JSON.parse(raw('../../data/proximity-min-max.json'));\nconst clusterMap = JSON.parse(raw('../../data/clusters-mapping-2.json'));\n\nconst customClusterShapes = JSON.parse(raw('../../data/custom_cluster_shapes.json'));\n\nconst colorMap = [\n  { id: '0', color: '#A973BE' },\n  { id: '1', color: '#F1866C' },\n  { id: '2', color: '#FFC135' },\n  { id: '3', color: '#93CFD0' },\n  { id: '4', color: '#488098' },\n  { id: '5', color: '#77C898' },\n  { id: '6', color: '#6A6AAD' },\n  { id: '7', color: '#D35162' },\n  { id: '8', color: '#F28188' },\n]\n\nconst data = {};\n\nconst allXValues = [];\nconst allYValues = [];\nnodes.forEach(({x, y}) => {\n  allXValues.push(x);\n  allYValues.push(y);\n});\n\n// const radiusAdjuster = smallerSize / minExpectedScreenSize;\n\ndata.nodes = nodes.map(n => {\n  // let radius = Math.random() * 6;\n  // radius = radius < 2.5 ? 2.5 * radiusAdjuster : radius * radiusAdjuster;\n  const radius = 2.5;\n  const industry6Digit = naicsData.find(({code}) => n.id.toString() === code);\n  if (!industry6Digit) {\n    throw new Error('undefined industry');\n  }\n  const naics_id = industry6Digit.naics_id;\n  const label = industry6Digit.name;\n  let topLevelParentId = naics_id.toString();\n  let current = naicsData.find(datum => datum.naics_id === naics_id);\n  while(current && current.parent_id !== null) {\n  // eslint-disable-next-line\n    current = naicsData.find(datum => datum.naics_id === current.parent_id);\n    if (current && current.parent_id !== null) {\n      topLevelParentId = current.parent_id.toString();\n    } else if (current && current.naics_id !== null) {\n      topLevelParentId = current.naics_id.toString();\n    }\n  }\n  if (parseInt(topLevelParentId, 10) > 8) {\n    console.error(current);\n    throw new Error('Parent out of range')\n  }\n  \n  const {color} = colorMap.find(({id}) => id === topLevelParentId);\n\n  const edges = proximityNodes[n.id] && proximityNodes[n.id].length ? proximityNodes[n.id] : [];\n\n  return {\n    ...n,\n    radius,\n    color,\n    parent: current,\n    label,\n    edges,\n    initial_x: n.x,\n    initial_y: n.y,\n  }\n})\n\nconst clusterColorMap = {\n  // '4': '#A973BE',\n  // '5': '#F1866C',\n  // '9': '#FFC135',\n  // '10': '#93CFD0',\n  // '12': '#488098',\n  // '13': '#77C898',\n  // '14': '#6A6AAD',\n  '4': '#004c6d',\n  '5': '#2d6484',\n  '9': '#4c7c9b',\n  '10': '#6996b3',\n  '12': '#86b0cc',\n  '13': '#a3cbe5',\n  '14': '#c1e7ff',\n}\n\ndata.clusters = {continents: [], countries: []};\n\nclusterMap.forEach(({C1, C2, naics}) => {\n  let indexC1 = data.clusters.continents.findIndex(c => c.id === C1);\n  if (indexC1 === -1) {\n    indexC1 = data.clusters.continents.length;\n    data.clusters.continents[indexC1] = {id: C1, points: [], color: clusterColorMap[C1]};\n  }\n  let indexC2 = data.clusters.countries.findIndex(c => c.id === C2);\n  if (indexC2 === -1) {\n    indexC2 = data.clusters.countries.length;\n    data.clusters.countries[indexC2] = {id: C2, points: [], color: clusterColorMap[C1]};\n  }\n  const industry = data.nodes.find(n => n.id === naics);\n  if (industry) {\n    data.clusters.continents[indexC1].points.push([industry.x, industry.y]);\n    data.clusters.countries[indexC2].points.push([industry.x, industry.y]);\n  }\n})\n\n\ndata.clusters.continents = data.clusters.continents.map(d => {\n  const custom = customClusterShapes.continents.find(c => c.id === d.id);\n  return {\n    ...d,\n    name: `Cluster ${d.id}`,\n    convex: hull(d.points, 200),\n    custom: custom.points,\n    center: custom.center,\n  }\n})\n\ndata.clusters.countries = data.clusters.countries.map(d => {\n  const custom = customClusterShapes.countries.find(c => c.id === d.id);\n  return {\n    ...d,\n    name: `Cluster ${d.id}`,\n    convex: hull(d.points, 200),\n    custom: custom.points,\n    center: custom.center,\n  }\n})\n\ndata.customViewbox = customClusterShapes.dimension;\n\n\nexport default data;\n","import styled from 'styled-components';\nimport {\n  outerRingRadius,\n  innerRingRadius,\n} from './chart';\nimport {\n  sectorLegendClassName,\n} from './Utils';\n\nconst fontFamily = \"monospace\";\n\nexport const Root = styled.div`\n  position: relative;\n  font-family: ${fontFamily};\n`;\n\nexport const BackButton = styled.button`\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-color: transparent;\n  border: none;\n  font-size: 1rem;\n  font-family: ${fontFamily};\n  cursor: pointer;\n  padding: 1rem;\n  display: none;\n`;\n\nexport const ChartContainer = styled.div`\n  svg {\n\n    /* Node hover and active styling */\n    .industry-node,\n    .industry-edge-node {\n      content-visibility: auto;\n\n      &:hover,\n      &.active {\n        cursor: pointer;\n        stroke: #333;\n        stroke-width: 0.5;\n      }\n    }\n\n    .industry-continents,\n    .industry-countries {\n      &:hover {\n        cursor: pointer;\n      }\n    }\n\n    /* Ring styling for when in ring mode */\n    circle.outer-ring {\n      fill: none;\n      stroke: #bfbfbf;\n      stroke-width: 0.5;\n      r: ${outerRingRadius}px;\n      opacity: 0;\n    }\n\n    circle.inner-ring {\n      r: ${innerRingRadius}px;\n      fill: none;\n      stroke: #bfbfbf;\n      stroke-width: 0.5;\n      opacity: 0;\n    }\n\n    /* Remove pointer events from multiple layers */\n    .industry-countries,\n    circle.outer-ring,\n    circle.inner-ring,\n    .industry-cluster-hovered,\n    .industry-node,\n    .industry-node-hovered,\n    .industry-nodes-label-group,\n    .industry-continents-label,\n    .industry-countries-label-group {\n      pointer-events: none;\n      will-change: transform, fill, opacity;\n    }\n\n    /* Label styling */\n    .industry-continents-label,\n    .industry-countries-label,\n    .industry-nodes-label,\n    .industry-ring-label {\n      fill: #444;\n      paint-order: stroke;\n      text-anchor: middle;\n      font-family: ${fontFamily};\n      will-change: transform, fill, opacity;\n    }\n\n    .industry-continents-label {\n      stroke: #efefef;\n      stroke-width: 2.5px;\n      font-weight: 600;\n      text-transform: uppercase;\n    }\n\n    .industry-countries-label {\n      stroke: #efefef;\n      stroke-width: 1px;\n      font-weight: 600;\n      text-transform: uppercase;\n    }\n\n    .industry-nodes-label {\n      stroke: #fff;\n      stroke-width: 0.1px;\n    }\n\n    .industry-ring-label {\n      stroke: #fff;\n      stroke-width: 0.6px;\n    }\n  }\n`;\n\nexport const LegendContainer = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  pointer-events: none;\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing:  border-box;\n  padding-left: 2rem;\n  padding-bottom: 2rem;\n\n  .${sectorLegendClassName} {\n    display: none;\n  }\n`;\n\nexport const LegendImage = styled.img`\n  width: 100%;\n  max-width: 800px;\n`;\n","import React, {useRef, useEffect, useState} from 'react';\nimport {usePrevious} from 'react-use';\nimport createChart from './chart';\nimport baseData from './data';\nimport {\n  Root,\n  BackButton,\n  ChartContainer,\n  LegendContainer,\n  LegendImage,\n} from './styling';\nimport {\n  RapidTooltipRoot\n} from './rapidTooltip';\nimport debounce from 'lodash/debounce';\nimport {\n  intensityLegendClassName,\n  sectorLegendClassName,\n} from './Utils';\n\nconst IndustrySpaceMap = () => {\n  const [chart, setChart] = useState(null);\n  const chartRef = useRef(null);\n  const backButtonRef = useRef(null);\n  const tooltipRef = useRef(null);\n  const legendRef = useRef(null);\n    const [dimensions, setWindowDimensions] = useState({\n      width: window.innerWidth,\n      height: window.innerHeight,\n    });\n\n  const prevDimensions = usePrevious(dimensions);\n\n  useEffect(() => {\n    const updateWindowDimensions = debounce(() => {\n      setWindowDimensions({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }, 250);\n    window.addEventListener('resize', updateWindowDimensions);\n    return () => {\n      window.removeEventListener('resize', updateWindowDimensions);\n    };\n  }, []);\n\n  useEffect(() => {\n    const chartNode = chartRef.current;\n    const backButtonNode = backButtonRef.current;\n    const tooltipNode = tooltipRef.current;\n    const legendNode = legendRef.current;\n\n    if (chartNode && backButtonNode && tooltipNode && legendNode && (chart === null ||\n        (prevDimensions && (dimensions.width !== prevDimensions.width || dimensions.height !== prevDimensions.height))\n    )) {\n      chartNode.innerHTML = '';\n      setChart(createChart(chartNode, baseData, dimensions.width, dimensions.height, backButtonNode, tooltipNode, legendNode));\n    }\n  }, [chart, chartRef, backButtonRef, tooltipRef, legendRef, dimensions, prevDimensions]);\n\n  return (\n    <Root>\n      <BackButton ref={backButtonRef}>{'< Back to Industry Space'}</BackButton>\n      <ChartContainer ref={chartRef} />\n      <LegendContainer ref={legendRef}>\n        <LegendImage\n          className={intensityLegendClassName}\n          src={require('../../intensity-legend.png')}\n        />\n        <LegendImage\n          className={sectorLegendClassName}\n          src={require('../../sector-legend.png')}\n        />\n      </LegendContainer>\n      <RapidTooltipRoot ref={tooltipRef} />\n    </Root>\n  );\n\n}\n\nexport default IndustrySpaceMap;\n","import { useEffect, useRef } from 'react';\nexport default function usePrevious(state) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = state;\n    });\n    return ref.current;\n}\n","import React from 'react'\nimport IndustrySpaceMap from '../components/industrySpaceMap';\n\nexport default () => {\n  return (\n    <IndustrySpaceMap />\n  );\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","module.exports = __webpack_public_path__ + \"static/media/sector-legend.a4fd20af.png\";","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/*\n (c) 2014-2020, Andrii Heonia\n Hull.js, a JavaScript library for concave hull generation by set of points.\n https://github.com/AndriiHeonia/hull\n*/\n\n'use strict';\n\nconst intersect = require('./intersect.js');\nconst grid = require('./grid.js');\nconst formatUtil = require('./format.js');\nconst convexHull = require('./convex.js');\n\nfunction _filterDuplicates(pointset) {\n    const unique = [pointset[0]];\n    let lastPoint = pointset[0];\n    for (let i = 1; i < pointset.length; i++) {\n        const currentPoint = pointset[i];\n        if (lastPoint[0] !== currentPoint[0] || lastPoint[1] !== currentPoint[1]) {\n            unique.push(currentPoint);\n        }\n        lastPoint = currentPoint;\n    }\n    return unique;\n}\n\nfunction _sortByX(pointset) {\n    return pointset.sort(function(a, b) {\n        return (a[0] - b[0]) || (a[1] - b[1]);\n    });\n}\n\nfunction _sqLength(a, b) {\n    return Math.pow(b[0] - a[0], 2) + Math.pow(b[1] - a[1], 2);\n}\n\nfunction _cos(o, a, b) {\n    const aShifted = [a[0] - o[0], a[1] - o[1]],\n        bShifted = [b[0] - o[0], b[1] - o[1]],\n        sqALen = _sqLength(o, a),\n        sqBLen = _sqLength(o, b),\n        dot = aShifted[0] * bShifted[0] + aShifted[1] * bShifted[1];\n\n    return dot / Math.sqrt(sqALen * sqBLen);\n}\n\nfunction _intersect(segment, pointset) {\n    for (let i = 0; i < pointset.length - 1; i++) {\n        const seg = [pointset[i], pointset[i + 1]];\n        if (segment[0][0] === seg[0][0] && segment[0][1] === seg[0][1] ||\n            segment[0][0] === seg[1][0] && segment[0][1] === seg[1][1]) {\n            continue;\n        }\n        if (intersect(segment, seg)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction _occupiedArea(pointset) {\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n\n    for (let i = pointset.length - 1; i >= 0; i--) {\n        if (pointset[i][0] < minX) {\n            minX = pointset[i][0];\n        }\n        if (pointset[i][1] < minY) {\n            minY = pointset[i][1];\n        }\n        if (pointset[i][0] > maxX) {\n            maxX = pointset[i][0];\n        }\n        if (pointset[i][1] > maxY) {\n            maxY = pointset[i][1];\n        }\n    }\n\n    return [\n        maxX - minX, // width\n        maxY - minY  // height\n    ];\n}\n\nfunction _bBoxAround(edge) {\n    return [\n        Math.min(edge[0][0], edge[1][0]), // left\n        Math.min(edge[0][1], edge[1][1]), // top\n        Math.max(edge[0][0], edge[1][0]), // right\n        Math.max(edge[0][1], edge[1][1])  // bottom\n    ];\n}\n\nfunction _midPoint(edge, innerPoints, convex) {\n    let point = null,\n        angle1Cos = MAX_CONCAVE_ANGLE_COS,\n        angle2Cos = MAX_CONCAVE_ANGLE_COS,\n        a1Cos, a2Cos;\n\n    for (let i = 0; i < innerPoints.length; i++) {\n        a1Cos = _cos(edge[0], edge[1], innerPoints[i]);\n        a2Cos = _cos(edge[1], edge[0], innerPoints[i]);\n\n        if (a1Cos > angle1Cos && a2Cos > angle2Cos &&\n            !_intersect([edge[0], innerPoints[i]], convex) &&\n            !_intersect([edge[1], innerPoints[i]], convex)) {\n\n            angle1Cos = a1Cos;\n            angle2Cos = a2Cos;\n            point = innerPoints[i];\n        }\n    }\n\n    return point;\n}\n\nfunction _concave(convex, maxSqEdgeLen, maxSearchArea, grid, edgeSkipList) {\n    let midPointInserted = false;\n\n    for (let i = 0; i < convex.length - 1; i++) {\n        const edge = [convex[i], convex[i + 1]];\n        // generate a key in the format X0,Y0,X1,Y1\n        const keyInSkipList = edge[0][0] + ',' + edge[0][1] + ',' + edge[1][0] + ',' + edge[1][1];\n\n        if (_sqLength(edge[0], edge[1]) < maxSqEdgeLen ||\n            edgeSkipList.has(keyInSkipList)) { continue; }\n\n        let scaleFactor = 0;\n        let bBoxAround = _bBoxAround(edge);\n        let bBoxWidth;\n        let bBoxHeight;\n        let midPoint;\n        do {\n            bBoxAround = grid.extendBbox(bBoxAround, scaleFactor);\n            bBoxWidth = bBoxAround[2] - bBoxAround[0];\n            bBoxHeight = bBoxAround[3] - bBoxAround[1];\n\n            midPoint = _midPoint(edge, grid.rangePoints(bBoxAround), convex);\n            scaleFactor++;\n        }  while (midPoint === null && (maxSearchArea[0] > bBoxWidth || maxSearchArea[1] > bBoxHeight));\n\n        if (bBoxWidth >= maxSearchArea[0] && bBoxHeight >= maxSearchArea[1]) {\n            edgeSkipList.add(keyInSkipList);\n        }\n\n        if (midPoint !== null) {\n            convex.splice(i + 1, 0, midPoint);\n            grid.removePoint(midPoint);\n            midPointInserted = true;\n        }\n    }\n\n    if (midPointInserted) {\n        return _concave(convex, maxSqEdgeLen, maxSearchArea, grid, edgeSkipList);\n    }\n\n    return convex;\n}\n\nfunction hull(pointset, concavity, format) {\n    let maxEdgeLen = concavity || 20;\n\n    const points = _filterDuplicates(_sortByX(formatUtil.toXy(pointset, format)));\n\n    if (points.length < 4) {\n        return points.concat([points[0]]);\n    }\n\n    const occupiedArea = _occupiedArea(points);\n    const maxSearchArea = [\n        occupiedArea[0] * MAX_SEARCH_BBOX_SIZE_PERCENT,\n        occupiedArea[1] * MAX_SEARCH_BBOX_SIZE_PERCENT\n    ];\n\n    const convex = convexHull(points);\n    const innerPoints = points.filter(function(pt) {\n        return convex.indexOf(pt) < 0;\n    });\n\n    const cellSize = Math.ceil(1 / (points.length / (occupiedArea[0] * occupiedArea[1])));\n\n    const concave = _concave(\n        convex, Math.pow(maxEdgeLen, 2),\n        maxSearchArea, grid(innerPoints, cellSize), new Set());\n\n    if (format) {\n        return formatUtil.fromXy(concave, format);\n    } else {\n        return concave;\n    }\n}\n\nconst MAX_CONCAVE_ANGLE_COS = Math.cos(90 / (180 / Math.PI)); // angle = 90 deg\nconst MAX_SEARCH_BBOX_SIZE_PERCENT = 0.6;\n\nmodule.exports = hull;\n","function ccw(x1, y1, x2, y2, x3, y3) {           \n    const cw = ((y3 - y1) * (x2 - x1)) - ((y2 - y1) * (x3 - x1));\n    return cw > 0 ? true : cw < 0 ? false : true; // colinear\n}\n\nfunction intersect(seg1, seg2) {\n  const x1 = seg1[0][0], y1 = seg1[0][1],\n      x2 = seg1[1][0], y2 = seg1[1][1],\n      x3 = seg2[0][0], y3 = seg2[0][1],\n      x4 = seg2[1][0], y4 = seg2[1][1];\n\n    return ccw(x1, y1, x3, y3, x4, y4) !== ccw(x2, y2, x3, y3, x4, y4) && ccw(x1, y1, x2, y2, x3, y3) !== ccw(x1, y1, x2, y2, x4, y4);\n}\n\nmodule.exports = intersect;","function Grid(points, cellSize) {\n    this._cells = [];\n    this._cellSize = cellSize;\n    this._reverseCellSize = 1 / cellSize;\n\n    for (let i = 0; i < points.length; i++) {\n        const point = points[i];\n        const x = this.coordToCellNum(point[0]);\n        const y = this.coordToCellNum(point[1]);\n        if (!this._cells[x]) {\n            const array = [];\n            array[y] = [point];\n            this._cells[x] = array;\n        } else if (!this._cells[x][y]) {\n            this._cells[x][y] = [point];\n        } else {\n            this._cells[x][y].push(point);\n        }\n    }\n}\n\nGrid.prototype = {\n    cellPoints: function(x, y) { // (Number, Number) -> Array\n        return (this._cells[x] !== undefined && this._cells[x][y] !== undefined) ? this._cells[x][y] : [];\n    },\n\n    rangePoints: function(bbox) { // (Array) -> Array\n        const tlCellX = this.coordToCellNum(bbox[0]);\n        const tlCellY = this.coordToCellNum(bbox[1]);\n        const brCellX = this.coordToCellNum(bbox[2]);\n        const brCellY = this.coordToCellNum(bbox[3]);\n        const points = [];\n\n        for (let x = tlCellX; x <= brCellX; x++) {\n            for (let y = tlCellY; y <= brCellY; y++) {\n                // replaced Array.prototype.push.apply to avoid hitting stack size limit on larger arrays.\n                for (let i = 0; i < this.cellPoints(x, y).length; i++) {\n                    points.push(this.cellPoints(x, y)[i]);\n                }\n            }\n        }\n\n        return points;\n    },\n\n    removePoint: function(point) { // (Array) -> Array\n        const cellX = this.coordToCellNum(point[0]);\n        const cellY = this.coordToCellNum(point[1]);\n        const cell = this._cells[cellX][cellY];\n        let pointIdxInCell;\n\n        for (let i = 0; i < cell.length; i++) {\n            if (cell[i][0] === point[0] && cell[i][1] === point[1]) {\n                pointIdxInCell = i;\n                break;\n            }\n        }\n\n        cell.splice(pointIdxInCell, 1);\n\n        return cell;\n    },\n\n    trunc: Math.trunc || function(val) { // (number) -> number\n        return val - val % 1;\n    },\n\n    coordToCellNum: function(x) { // (number) -> number\n        return this.trunc(x * this._reverseCellSize);\n    },\n\n    extendBbox: function(bbox, scaleFactor) { // (Array, Number) -> Array\n        return [\n            bbox[0] - (scaleFactor * this._cellSize),\n            bbox[1] - (scaleFactor * this._cellSize),\n            bbox[2] + (scaleFactor * this._cellSize),\n            bbox[3] + (scaleFactor * this._cellSize)\n        ];\n    }\n};\n\nfunction grid(points, cellSize) {\n    return new Grid(points, cellSize);\n}\n\nmodule.exports = grid;","module.exports = {\n\n    toXy: function(pointset, format) {\n        if (format === undefined) {\n            return pointset.slice();\n        }\n        return pointset.map(function(pt) {\n            /*jslint evil: true */\n            const _getXY = new Function('pt', 'return [pt' + format[0] + ',' + 'pt' + format[1] + '];');\n            return _getXY(pt);\n        });\n    },\n\n    fromXy: function(pointset, format) {\n        if (format === undefined) {\n            return pointset.slice();\n        }\n        return pointset.map(function(pt) {\n            /*jslint evil: true */\n            const _getObj = new Function('pt', 'const o = {}; o' + format[0] + '= pt[0]; o' + format[1] + '= pt[1]; return o;');\n            return _getObj(pt);\n        });\n    }\n\n}","function _cross(o, a, b) {\n    return (a[0] - o[0]) * (b[1] - o[1]) - (a[1] - o[1]) * (b[0] - o[0]);\n}\n\nfunction _upperTangent(pointset) {\n    const lower = [];\n    for (let l = 0; l < pointset.length; l++) {\n        while (lower.length >= 2 && (_cross(lower[lower.length - 2], lower[lower.length - 1], pointset[l]) <= 0)) {\n            lower.pop();\n        }\n        lower.push(pointset[l]);\n    }\n    lower.pop();\n    return lower;\n}\n\nfunction _lowerTangent(pointset) {\n    const reversed = pointset.reverse(),\n        upper = [];\n    for (let u = 0; u < reversed.length; u++) {\n        while (upper.length >= 2 && (_cross(upper[upper.length - 2], upper[upper.length - 1], reversed[u]) <= 0)) {\n            upper.pop();\n        }\n        upper.push(reversed[u]);\n    }\n    upper.pop();\n    return upper;\n}\n\n// pointset has to be sorted by X\nfunction convex(pointset) {\n    const upper = _upperTangent(pointset),\n          lower = _lowerTangent(pointset);\n    const convex = lower.concat(upper);\n    convex.push(pointset[0]);  \n    return convex;  \n}\n\nmodule.exports = convex;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n"],"sourceRoot":""}